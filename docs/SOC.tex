\documentclass[a4paper,12pt]{article}
\usepackage[margin=25mm]{geometry}
\usepackage[czech]{babel}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage[backend=bibtex,sorting=none]{biblatex}
\usepackage{xcolor}
\usepackage{float}
\usepackage{hyperref}
\usepackage[nounderscore]{syntax}
\usepackage[T1]{fontenc}

\definecolor{keyword}{RGB}{0, 64, 255}

\addbibresource{SOC.bib}

\def\keyword #1{\color{keyword}#1\color{black}}
\def\emphasis #1{\textbf{\texttt{"#1"}}}
\renewcommand{\labelitemii}{$\circ$}
\renewcommand{\labelitemiii}{$-$}
\makeatletter
\newcount\my@repeat@count
\newcommand{\repeatchar}[2]{%
  \begingroup
  \my@repeat@count=\z@
  \@whilenum\my@repeat@count<#1\do{#2\advance\my@repeat@count\@ne}%
  \endgroup
}
\makeatother

\author{Richard Blažek}
\setlength{\headheight}{15pt}
\pagestyle{fancy}
\fancyhead{}
\fancyhead[R]{Překladač jazyka Zyba}
\fancyhead[L]{Richard Blažek}
\fancyfoot{}
\fancyfoot[R]{\thepage}
\fancyfoot[L]{Kapitola \thesection}
\setlength{\parindent}{0pt}
\setlength{\parskip}{0.8em}

\begin{document}
\begin{titlepage}
    \begin{center}

	\vspace*{3.5cm}            
	\Huge
	\textbf{Překladač jazyka Zyba}
            
	\vspace{0.5cm}
	\LARGE
	Staticky typovaný jazyk kompilovaný do PHP
        
	\vspace*{1.5cm}
	\Huge
	\textbf{Zyba language compiler}
            
	\vspace{0.5cm}
	\LARGE
	Language with static typing transpiled into PHP
            
	\vfill
            
	\large
        Středoškolská odborná činnost, rok 2022\\
	Richard Blažek\\
	Gymnázium Brno, třída Kapitána Jaroše 14
    \end{center}
\end{titlepage}
\thispagestyle{empty}
\Large\textbf{Prohlášení}\normalsize

Prohlašuji, že jsem svou závěrečnou maturitní práci vypracoval samostatně a použil jsem pouze prameny a literaturu uvedené v~seznamu bibliografických záznamů.

Prohlašuji, že tištěná verze a elektronická verze závěrečné maturitní práce jsou shodné.

Nemám závažný důvod proti zpřístupňování této práce v~souladu se zákonem č. 121/2000 Sb., o~právu autorském, o~právech souvisejících s~právem autorským a o~změně některých zákonů (autorský zákon) ve~znění pozdějších předpisů. 

V~Brně dne \today{} \repeatchar{40}{.}
\newpage
\thispagestyle{empty}
\Large\textbf{Poděkování}\normalsize

Tímto bych chtěl poděkovat Matěji Žáčkovi za odborné vedení práce.
\newpage
\thispagestyle{empty}
\Large\textbf{Anotace}\normalsize

Práce se zabývá navržením jazyka Zyba a implementací překladače tohoto jazyka do PHP, což by mělo umožnit používání tohoto jazyka na všech webhostinzích, které podporují PHP skripty. Rovněž bude možné vyvíjet část projektu v Zybě a část v PHP a používat funkce z jednoho jazyka ve druhém.

\Large\textbf{Klíčová slova}\normalsize

programovací jazyk; překladač; transpiling; webová aplikace; PHP; Zyba

\Large\textbf{Annotation}\normalsize

The thesis is concerned with the design of the Zyba language and implementing its compiler. The compiler generates PHP code, making it possible for the language to be used on all webhostings where PHP is supported. Also, it will be possible to combine Zyba and PHP when developing web applications and use functions from one of the languages in the other one.

\Large\textbf{Keywords}\normalsize

programming lanugage; compiler; transpiling; web application; PHP; Zyba
\newpage
\thispagestyle{empty}
\tableofcontents
\newpage
\section{Úvod}
Cílem této práce je navrhnout programovací jazyk Zyba, který by měl umožnit psaní přehlednějšího kódu než PHP, a implementovat překladač ze Zyby do PHP, aby bylo možné programy v Zybě používat na všech na všech serverech s podporou PHP skriptů. Navrhl jsem Zybu jako staticky typovaný jazyk, protože překlad z jednoho dynamicky typovaného jazyka do druhého by umožnil provádět při překladu pouze syntatickou kontrolu. K vyhodnocení typů by mohlo dojít až za běhu programu a Zyba by tak představovala jen alternativní syntaxi pro PHP. Zybu jsem navrhl jako jazyk jednoduchý na naučení, ale s dostatečnou funkcionalitou pro psaní webových stránek.

Překladač jsem se rozhodl napsat v jazyce Haskell, protože umožňuje psát velmi stručné a přehledné programy. K čitelnosti programu přispívá jednak syntaxe jazyka, v němž se struktura programu vyjadřuje formátováním zdrojového kódu a ne oddělovači, jednak jeho striktní dodržování funkcionálního paradigmatu, které vyžaduje, aby funkce byly referenčně transparentní (tzn. bez vedlejších efektů). Navíc jeho typový systém obsahuje algebraické datové typy a umožňuje zápis rekurzivních typů, což se u překladače hodí například na zápis syntaktického stromu.

\section{Návrh jazyka}
\subsection{Syntaxe}
Syntaxe Zyby je stejně jako u řady dalších jazyků (např. C++, Java, C\#, JavaScript) odvozená z jazyka C, aby byla blízká ostatním programátorům, ale liší se v řadě detailů. Všechny operátory jsou binární, zleva asociativní a mají stejnou prioritu. Práce s poli a slovníky (tj. jejich vytváření a přístup k prvkům a jejich změna) není záležitostí speciální syntaxe, ale provádí se zabudovanými metodami až na úrovni sémantiky. Volání funkce je vyjádřeno hranatými závorkami. Díky těmto změnám je syntaxe jednoznačná i bez použití středníků pro ukončení příkazů, takže středníky jsou v Zybě používány na uvozování jednořádkových komentářů.

Soubor v Zybě se skládá z deklarací. Každá deklarace buď přiřadí určité globální konstantě hodnotu určitého výrazu, nebo importuje konstanty deklarované v jiném souboru.
\begin{grammar}
<file> ::= <declaration>*

<declaration> ::= <name> <expression> | <import>
\end{grammar}

Importovat lze jak ze Zyby tak i z PHP. Import ze Zyby vyžaduje cestu k souboru, který má být importován, a název jmenného prostoru, do kterého budou importované hodnoty spadat. Import z PHP to vyžaduje rovněž, ale před názvem jmenného prostoru musí být napsáno slovo \texttt{php} a za cestou k souboru musí následovat záznam se jmény a typy importovaných hodnot. Záznam tvoří složené závorky a v nich několik dvojic názvů (tj. jména importovaných hodnot) a výrazů (tj. jejich typy).
\begin{grammar}
<import> ::= <import-zyba> | <import-php>

<import-zyba> ::= \emphasis{import} <name> <literal-string>

<import-php> ::= \emphasis{import php} <name> <literal-string> <record>

<record> ::= \emphasis{\{} (<name> <expression>)* \emphasis{\}}
\end{grammar}

Výraz tvoří jeden či více podvýrazů oddělených binárními operátory. Podvýraz tvoří jednotka, kterou můžou následovat volání funkce a přístupy k prvkům záznamu nebo jmenného prostoru. Volání funkce tvoří několik výrazů v hranatých závorkách; přístup k prvku tvoří tečka následovaná jménem. Zabudované metody, které budou podrobněji popsány později, se volají způsobem, který kombinuje syntaxi přístupu a syntaxi volání funkce, ale z hlediska gramatiky se nejedná o zvláštní případ.
\begin{grammar}
<expression> ::= <call> (<operator> <call>)*

<subexpression> ::= <unit> (<call> | <access>)*

<call> ::= \emphasis{[} <expression>* \emphasis{]}

<access> ::= \emphasis{.} <name>
\end{grammar}

Jednotek je několik druhů: výraz v závorkách; literál celého čísla, reálného čísla, logické hodnoty či textu; záznam nebo lambda funkce.
\begin{grammar}
<unit> ::= \emphasis{(} <expression> \emphasis{)}

<unit> ::= <literal-int> | <literal-real> | <literal-bool> | <literal-text>

<unit> ::= <record>

<unit> ::= <lambda>
\end{grammar}

Lambda funkce začíná slovem \texttt{fun}. Následují argumenty funkce v hranatých závorkách, výraz specifikující typ navrácené hodnoty a blok kódu, který tvoří několik příkazů ve složených závorkách. Argumenty funkce, pokud nějaké jsou, se zapisují po skupinách, z nichž každá se skládá z názvů jednoho či více argumentů následovaných dvojtečkou a výrazem specifikujícím typ těchto argumentů.
\begin{grammar}
<lambda> ::= \emphasis{fun} \emphasis{[} <arguments> \emphasis{]} <expression> <block>

<arguments> ::= (<name>+ \emphasis{:} <expression>)*

<block> ::= \emphasis{\{} <statement>* \emphasis{\}}
\end{grammar}

Příkazem může být výraz, jenž má být vyhodnocen, přiřazení, příkaz \texttt{if} nebo cyklus \texttt{while}. Přiřazení se zapíše jako jméno proměnné, do níž má být přiřazeno, znak rovná se a výraz, jehož hodnota bude přiřazena. Příkaz \texttt{if} začíná slovem \texttt{if} následovaným podmínkou a blokem kódu; za blokem můžou následovat další části, jež začínají slovy \texttt{else if} a rovněž pokračují podmínkou a blokem; na konci podmínky může být slovo \texttt{else} následované blokem, který se provede, pokud žádná z předchozích podmínek nebyla splněna. Cyklus \texttt{while} začíná slovem \texttt{while} následovaným podmínkou a blokem kódu. Podmínka je výraz, který vrací logickou hodnotu.
\begin{grammar}
<statement> ::= <expression> | <assignment> | <if> | <while>

<assignment> ::= <name> \emphasis{=} <expression>

<if> ::= \emphasis{if} <condition> <block> (\emphasis{else if} <condition> <block>)* (\emphasis{else} <block>)?

<while> ::= \emphasis{while} <condition> <block>

<condition> ::= <expression>
\end{grammar}

\subsection{Typový systém}

\section{Závěr}

\newpage
\printbibliography[heading=bibintoc, title={Použitá literatura}]
\newpage
\end{document}